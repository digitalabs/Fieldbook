<div>
	<div id="check-table">
		<form  id="check-germplasm-list-form" role="form-horizontal" class="form-horizontal" action="#"
		th:action="@{/StudyManager/importGermplasmList/next}" method="post" th:object="${importGermplasmListForm}" enctype="multipart/form-data">

		<input type="hidden" th:field="*{keyForOverwrite}" />
		<input type="hidden" th:field="*{lastCheckSourcePrimary}" />
		<input type="hidden" th:field="*{lastDraggedChecksList}"/>
		<input type="hidden" id="totalNumberOfChecks" th:value="*{#lists.size(importedCheckGermplasm)}"/>

			<!-- case 1: if the data was generated from custom design -->
			<div th:if="${hasExperimentalDesign}">
				<span class="noSelectedGermplasmListIndicator"
					  th:text="#{study.import.checks.defined.by.imported.design}">Checks for this nursery have been defined by the imported design file.</span>
			</div>

			<!-- case 2: no data means no table -->
			<div th:if="*{importedCheckGermplasm == null or #lists.isEmpty(importedCheckGermplasm)} and ${hasExperimentalDesign} == false">
			<span class="noSelectedGermplasmListIndicator" th:text="#{study.import.no.selected.check.germplasm.list}">No Selected Check list</span>
		</div>

		<!-- case 3: basic view of the importedGermplasm -->
		<div th:if="*{importedCheckGermplasm != null and not #lists.isEmpty(importedCheckGermplasm)}">
			<div class="check-germplasm-list-table-old check-germplasm-list-data-table">
				<table th:if="*{not #lists.isEmpty(importedCheckGermplasm)}" class="table-curved table-condensed check-germplasm-list-items check-table-popover">
					<thead>
						<tr>
							<th nowrap="nowrap" data-col-name="action"></th>
							<th nowrap="nowrap" th:each="tableHeader : ${tableHeaderList}" th:text="${tableHeader.columnName}"  th:attr="data-col-name=${tableHeader.dataCol}" ></th>
						</tr>
					</thead>

					<tbody th:remove="all-but-first">
						<tr th:each="gid, row : *{importedCheckGermplasm}" th:attr="data-entry=${gid.entryId}" th:attrappend="data-gid=${gid.gid},data-index=${gid.index}" class="checkRow">

							<td style="text-align: left; vertical-align: middle" >
								<a href="javascript: void(0)" onclick="javascript: openGermplasmDetailsPopop(this)" th:text="${gid.desig}" th:attr="data-gid=${gid.gid}" th:attrappend="data-desig=${gid.desig}">.2</a>
							</td>
							<td align="left">
								<select th:field="*{importedCheckGermplasm[__${row.index}__].entryTypeValue}" class="form-control checklist-select">
									<option value="">Please Choose</option>
									<option th:each="type: ${checkLists}"  th:attr="data-code=${type.name}"  th:value="${type.id}" th:text="${type.description}"></option>
								</select>
							</td>
						</tr>
						<tr>
							<td>.1.1</td>
							<td>.2</td>
						</tr>
					</tbody>

				</table>
			</div>
		</div>
		<div class="row col-xs-12 col-md-12">
			<div id="check-germplasm-list-reset-button" class="pull-left">
	            <a style="margin-top: 5px;" href="javascript: resetCheckList()" class="btn btn-default">Clear Checks</a>
	        </div>
		</div>
	</form>
</div>
</div>

<script type='text/javascript' th:inline="javascript">
//<![CDATA[
/*globals showPostPage*/
var dataSelectedCheckGermplasmList = /*[[${checkListDataTable}]]*/ [];
$(document).ready(function() {
	'use strict';
	if (dataSelectedCheckGermplasmList !== null && dataSelectedCheckGermplasmList.length !== 0) {
		selectedCheckListDataTable = new BMS.Fieldbook.SelectedCheckListDataTable('.check-germplasm-list-items', '.check-germplasm-list-data-table', dataSelectedCheckGermplasmList);
	}
});

//]]>
</script>
